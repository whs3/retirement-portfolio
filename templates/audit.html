{% extends "base.html" %}
{% block title %}Audit Log — Retirement Portfolio{% endblock %}

{% block content %}
<div class="page-header">
  <h1>Audit Log</h1>
  <div style="display:flex;align-items:center;gap:1rem">
    <span class="last-updated">
      <span id="entryCount"></span>
      &nbsp;&middot;&nbsp;
      <span id="lastRefreshed"></span>
    </span>
    <label style="display:flex;align-items:center;gap:0.4rem;font-size:.875rem;color:var(--text-muted)">
      Refresh every
      <select id="pollInterval" class="allocation-input" style="width:auto">
        <option value="5000">5 s</option>
        <option value="10000">10 s</option>
        <option value="30000">30 s</option>
        <option value="60000">1 min</option>
        <option value="0">Off</option>
      </select>
    </label>
  </div>
</div>

<div class="card">
  <div class="table-responsive">
    <table class="table">
      <thead>
        <tr>
          <th>Date &amp; Time</th>
          <th>Action</th>
          <th>Ticker</th>
          <th>Name</th>
          <th class="text-right">Price</th>
          <th class="text-right">Current Value</th>
          <th class="text-right">Cost Basis</th>
          <th class="text-right">Value Change</th>
          <th class="text-right">Cost Basis Change</th>
        </tr>
      </thead>
      <tbody id="auditBody">
        <tr><td colspan="9" class="text-center text-muted">Loading…</td></tr>
      </tbody>
    </table>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/audit.js') }}"></script>
{% endblock %}
